"use strict";/**
 * A module for database with MongoDB
 *
 * @module
 */var cov_e6uqb2ui2=function(){var path="C:\\users\\ara\\Dropbox\\dbwebb-kurser\\ramverk2\\me\\module\\src\\mongodb\\mongodb.js",hash="84cfe68e1a7f7f79147f401fcecba9a701e34695",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\users\\ara\\Dropbox\\dbwebb-kurser\\ramverk2\\me\\module\\src\\mongodb\\mongodb.js",statementMap:{"0":{start:{line:8,column:12},end:{line:8,column:70}},"1":{start:{line:9,column:14},end:{line:9,column:44}},"2":{start:{line:10,column:15},end:{line:10,column:42}},"3":{start:{line:12,column:18},end:{line:37,column:1}},"4":{start:{line:13,column:20},end:{line:18,column:5}},"5":{start:{line:14,column:20},end:{line:14,column:44}},"6":{start:{line:15,column:20},end:{line:15,column:51}},"7":{start:{line:17,column:8},end:{line:17,column:19}},"8":{start:{line:20,column:4},end:{line:36,column:6}},"9":{start:{line:22,column:24},end:{line:22,column:39}},"10":{start:{line:24,column:12},end:{line:24,column:46}},"11":{start:{line:27,column:24},end:{line:27,column:39}},"12":{start:{line:29,column:12},end:{line:29,column:34}},"13":{start:{line:32,column:24},end:{line:32,column:48}},"14":{start:{line:34,column:12},end:{line:34,column:23}},"15":{start:{line:39,column:0},end:{line:39,column:31}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:18},end:{line:12,column:19}},loc:{start:{line:12,column:39},end:{line:37,column:1}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:20},end:{line:13,column:21}},loc:{start:{line:13,column:32},end:{line:18,column:5}},line:13}},branchMap:{"0":{loc:{start:{line:8,column:12},end:{line:8,column:70}},type:"binary-expr",locations:[{start:{line:8,column:12},end:{line:8,column:34}},{start:{line:8,column:38},end:{line:8,column:70}}],line:8},"1":{loc:{start:{line:21,column:18},end:{line:21,column:29}},type:"default-arg",locations:[{start:{line:21,column:27},end:{line:21,column:29}}],line:21}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const dsn=(cov_e6uqb2ui2.s[0]++,(cov_e6uqb2ui2.b[0][0]++,process.env.DBWEBB_DSN)||(cov_e6uqb2ui2.b[0][1]++,'mongodb://localhost:27017/test'));const mongo=(cov_e6uqb2ui2.s[1]++,require("mongodb").MongoClient);var ObjectId=(cov_e6uqb2ui2.s[2]++,require('mongodb').ObjectID);cov_e6uqb2ui2.s[3]++;const mongoInit=(dsn,collection)=>{cov_e6uqb2ui2.f[0]++;cov_e6uqb2ui2.s[4]++;const connect=async()=>{cov_e6uqb2ui2.f[1]++;const db=(cov_e6uqb2ui2.s[5]++,await mongo.connect(dsn));const col=(cov_e6uqb2ui2.s[6]++,await db.collection(collection));cov_e6uqb2ui2.s[7]++;return col;};cov_e6uqb2ui2.s[8]++;return{async get(search=(cov_e6uqb2ui2.b[1][0]++,{})){const col=(cov_e6uqb2ui2.s[9]++,await connect());cov_e6uqb2ui2.s[10]++;return col.find(search).toArray();},async insert(ob){const col=(cov_e6uqb2ui2.s[11]++,await connect());cov_e6uqb2ui2.s[12]++;return col.insert(ob);},async close(){const db=(cov_e6uqb2ui2.s[13]++,await mongo.connect(dsn));cov_e6uqb2ui2.s[14]++;db.close();}};};cov_e6uqb2ui2.s[15]++;module.exports={mongoInit};