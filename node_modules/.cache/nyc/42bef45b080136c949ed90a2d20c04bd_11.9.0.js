/**
 * A module for database with MongoDB
 *
 * @module
 */"use strict";var cov_e6uqb2ui2=function(){var path="C:\\users\\ara\\Dropbox\\dbwebb-kurser\\ramverk2\\me\\module\\src\\mongodb\\mongodb.js",hash="268be329c6c68ab821d70d0a63455a1cbd8dd73e",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\users\\ara\\Dropbox\\dbwebb-kurser\\ramverk2\\me\\module\\src\\mongodb\\mongodb.js",statementMap:{"0":{start:{line:8,column:14},end:{line:8,column:44}},"1":{start:{line:9,column:15},end:{line:9,column:42}},"2":{start:{line:11,column:18},end:{line:43,column:1}},"3":{start:{line:12,column:20},end:{line:17,column:5}},"4":{start:{line:13,column:20},end:{line:13,column:44}},"5":{start:{line:14,column:20},end:{line:14,column:51}},"6":{start:{line:16,column:8},end:{line:16,column:19}},"7":{start:{line:19,column:4},end:{line:42,column:6}},"8":{start:{line:21,column:24},end:{line:21,column:39}},"9":{start:{line:23,column:12},end:{line:23,column:46}},"10":{start:{line:26,column:24},end:{line:26,column:39}},"11":{start:{line:28,column:12},end:{line:28,column:36}},"12":{start:{line:31,column:24},end:{line:31,column:39}},"13":{start:{line:33,column:12},end:{line:33,column:37}},"14":{start:{line:35,column:12},end:{line:35,column:42}},"15":{start:{line:38,column:24},end:{line:38,column:48}},"16":{start:{line:40,column:12},end:{line:40,column:23}},"17":{start:{line:45,column:0},end:{line:45,column:31}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:18},end:{line:11,column:19}},loc:{start:{line:11,column:39},end:{line:43,column:1}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:12,column:20},end:{line:12,column:21}},loc:{start:{line:12,column:32},end:{line:17,column:5}},line:12}},branchMap:{"0":{loc:{start:{line:20,column:18},end:{line:20,column:29}},type:"default-arg",locations:[{start:{line:20,column:27},end:{line:20,column:29}}],line:20}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0},b:{"0":[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const mongo=(cov_e6uqb2ui2.s[0]++,require("mongodb").MongoClient);var ObjectId=(cov_e6uqb2ui2.s[1]++,require('mongodb').ObjectID);cov_e6uqb2ui2.s[2]++;const mongoInit=(dsn,collection)=>{cov_e6uqb2ui2.f[0]++;cov_e6uqb2ui2.s[3]++;const connect=async()=>{cov_e6uqb2ui2.f[1]++;const db=(cov_e6uqb2ui2.s[4]++,await mongo.connect(dsn));const col=(cov_e6uqb2ui2.s[5]++,await db.collection(collection));cov_e6uqb2ui2.s[6]++;return col;};cov_e6uqb2ui2.s[7]++;return{async get(search=(cov_e6uqb2ui2.b[0][0]++,{})){const col=(cov_e6uqb2ui2.s[8]++,await connect());cov_e6uqb2ui2.s[9]++;return col.find(search).toArray();},async insert(item){const col=(cov_e6uqb2ui2.s[10]++,await connect());cov_e6uqb2ui2.s[11]++;return col.insert(item);},async reset(){const col=(cov_e6uqb2ui2.s[12]++,await connect());cov_e6uqb2ui2.s[13]++;await col.deleteMany({});cov_e6uqb2ui2.s[14]++;return col.find({}).toArray();},async close(){const db=(cov_e6uqb2ui2.s[15]++,await mongo.connect(dsn));cov_e6uqb2ui2.s[16]++;db.close();}};};cov_e6uqb2ui2.s[17]++;module.exports={mongoInit};